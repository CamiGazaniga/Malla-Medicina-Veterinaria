<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Curricular Veterinaria</title>
  <script src="https://cdn.tailwindcss.com">// Guardado y carga de progreso local
function guardarProgreso(completados) {
  localStorage.setItem("cursosCompletados", JSON.stringify([...completados]));
}

function cargarProgreso() {
  const datos = localStorage.getItem("cursosCompletados");
  return datos ? new Set(JSON.parse(datos)) : new Set();
}

function prerrequisitosCompletos(prereqs, completados) {
  return prereqs.every(p => completados.has(p));
}

function crearCurso(curso, completados, actualizar) {
  const div = document.createElement("div");
  div.className = "flex items-center space-x-2";

  const check = document.createElement("input");
  check.type = "checkbox";
  check.className = "accent-pink-500";
  check.checked = completados.has(curso.id);
  check.disabled = !prerrequisitosCompletos(curso.prereqs, completados);

  const label = document.createElement("label");
  label.textContent = `${curso.nombre} | Cr√©ditos: ${curso.creditos}`;
  if (check.checked) label.classList.add("completed");

  check.addEventListener("change", () => {
    if (check.checked) {
      completados.add(curso.id);
    } else {
      completados.delete(curso.id);
    }
    guardarProgreso(completados);
    actualizar();
  });

  div.appendChild(check);
  div.appendChild(label);
  return div;
}

function renderizarMalla() {
  const contenedor = document.getElementById("malla");
  contenedor.innerHTML = "";
  const completados = cargarProgreso();

  for (const ciclo in cursos) {
    const details = document.createElement("details");
    details.className = "bg-white rounded-xl shadow p-4";
    details.open = true;

    const summary = document.createElement("summary");
    summary.className = "text-lg font-semibold text-pink-700 cursor-pointer select-none mb-2";
    summary.textContent = ciclo;

    details.appendChild(summary);

    cursos[ciclo].forEach(curso => {
      const elementoCurso = crearCurso(curso, completados, renderizarMalla);
      details.appendChild(elementoCurso);
    });

    contenedor.appendChild(details);
  }
}

function reiniciarProgreso() {
  if (confirm("¬øEst√°s segura/o de que deseas reiniciar todo tu progreso?")) {
    localStorage.removeItem("cursosCompletados");
    renderizarMalla();
  }
}

document.addEventListener("DOMContentLoaded", renderizarMalla);
</script>
  <style>
    :root {
      --bg-pink: #fff0f5;
      --accent-pink: #f472b6;
    }
    body {
      background-color: var(--bg-pink);
    }
    .completed {
      text-decoration: line-through;
      opacity: 0.5;
    }
  </style>
</head>
<body class="p-4 font-sans bg-[url('https://media.giphy.com/media/ICOgUNjpvO0PC/giphy.gif')] bg-top bg-no-repeat bg-contain">
  <h1 class="text-3xl font-bold text-center text-pink-600 mb-6 animate-bounce">üêæ Malla Curricular - Medicina Veterinaria y Zootecnia üêæ</h1>
  <div class="flex justify-center mb-6">
    <button onclick="reiniciarProgreso()" class="bg-pink-500 text-white px-4 py-2 rounded-xl shadow hover:bg-pink-600 transition">Reiniciar progreso</button>
  </div>
  $1
  <script>
    const cursos = {
  "Primer Ciclo": [
    { id: "mate_bas", nombre: "Matem√°ticas B√°sicas", creditos: 4, prereqs: [] },
    { id: "quimica", nombre: "Elementos de Qu√≠mica", creditos: 4, prereqs: [] },
    { id: "com_red_1", nombre: "Comunicaci√≥n y Redacci√≥n I", creditos: 3, prereqs: [] },
    { id: "filosofia", nombre: "Filosof√≠a y √âtica", creditos: 3, prereqs: [] },
    { id: "biologia_1", nombre: "Biolog√≠a I", creditos: 5, prereqs: [] },
    { id: "desarrollo_pers", nombre: "Desarrollo Personal y Autonom√≠a", creditos: 2, prereqs: [] },
    { id: "oportunidades_vet", nombre: "Oportunidades de Desarrollo Profesional en MVZ", creditos: 1, prereqs: [] },
    { id: "ingles_1", nombre: "Ingl√©s I", creditos: 2, prereqs: [] }
  ],
  "Segundo Ciclo": [
    { id: "fisica", nombre: "F√≠sica B√°sica", creditos: 4, prereqs: [] },
    { id: "genetica", nombre: "Fundamentos de Gen√©tica para las Ciencias Veterinarias", creditos: 2, prereqs: ["biologia_1"] },
    { id: "c_sociales", nombre: "Ciencias Sociales en el Contexto Actual", creditos: 3, prereqs: [] },
    { id: "pract_vet_1", nombre: "Pr√°ctica Veterinaria I", creditos: 2, prereqs: [] },
    { id: "com_red_2", nombre: "Comunicaci√≥n y Redacci√≥n II", creditos: 3, prereqs: ["com_red_1"] },
    { id: "pens_cient", nombre: "Pensamiento Cient√≠fico e Investigaci√≥n", creditos: 2, prereqs: [] },
    { id: "cultura_ambiental", nombre: "Cultura Ambiental y Desarrollo Sostenible", creditos: 1, prereqs: [] },
    { id: "act_comp_1", nombre: "Actividad Complementaria I", creditos: 1, prereqs: [] },
    { id: "ingles_2", nombre: "Ingl√©s II", creditos: 2, prereqs: ["ingles_1"] }
  ],
  "Tercer Ciclo": [
    { id: "micro_inmuno", nombre: "Microbiolog√≠a e Inmunolog√≠a Veterinaria", creditos: 4, prereqs: ["biologia_1"] },
    { id: "nutri_1", nombre: "Nutrici√≥n Animal I", creditos: 3, prereqs: ["biologia_1"] },
    { id: "eco_vet", nombre: "Ecolog√≠a para las Ciencias Veterinarias", creditos: 2, prereqs: ["biologia_1"] },
    { id: "anato_vet", nombre: "Anatom√≠a Veterinaria", creditos: 4, prereqs: ["biologia_1"] },
    { id: "histo_vet", nombre: "Histolog√≠a Veterinaria", creditos: 3, prereqs: ["biologia_1"] },
    { id: "ingles_3", nombre: "Ingl√©s III", creditos: 2, prereqs: ["ingles_2"] }
  ],
  "Cuarto Ciclo": [
    { id: "bioestad", nombre: "Bioestad√≠stica", creditos: 2, prereqs: ["mate_bas"] },
    { id: "fisio_repro", nombre: "Fisiolog√≠a de la Reproducci√≥n", creditos: 3, prereqs: ["histo_vet"] },
    { id: "mejoramiento_gen", nombre: "Mejoramiento Gen√©tico", creditos: 3, prereqs: ["genetica"] },
    { id: "nutri_2", nombre: "Nutrici√≥n Animal II", creditos: 4, prereqs: ["nutri_1"] },
    { id: "pract_vet_2", nombre: "Pr√°ctica Veterinaria II", creditos: 2, prereqs: ["anato_vet"] },
    { id: "fisio_1", nombre: "Fisiolog√≠a Animal I", creditos: 3, prereqs: ["anato_vet", "histo_vet"] },
    { id: "electiva_1", nombre: "Asignatura Electiva I", creditos: 1, prereqs: [] },
    { id: "ingles_4", nombre: "Ingl√©s IV", creditos: 2, prereqs: ["ingles_3"] }
  ],
  "Quinto Ciclo": [
    { id: "bovinos", nombre: "Producci√≥n de Bovinos", creditos: 3, prereqs: ["pract_vet_2"] },
    { id: "farmaco", nombre: "Farmacolog√≠a Veterinaria", creditos: 3, prereqs: ["fisio_1"] },
    { id: "recursos_alim", nombre: "Recursos y Sistemas de Alimentaci√≥n Animal", creditos: 2, prereqs: ["nutri_2"] },
    { id: "vida_silvestre", nombre: "Introducci√≥n a la Vida Silvestre", creditos: 2, prereqs: ["eco_vet"] },
    { id: "sociologia", nombre: "Sociolog√≠a Aplicada al Campo Veterinario", creditos: 1, prereqs: ["c_sociales", "pract_vet_2"] },
    { id: "economia", nombre: "Econom√≠a de la Producci√≥n", creditos: 3, prereqs: ["bioestad"] },
    { id: "fisio_2", nombre: "Fisiolog√≠a Animal II", creditos: 3, prereqs: ["fisio_1"] },
    { id: "parasitologia", nombre: "Parasitolog√≠a Veterinaria", creditos: 3, prereqs: ["fisio_1"] }
  ]
  ],
  "Sexto Ciclo": [
    { id: "patologia_clin", nombre: "Patolog√≠a Cl√≠nica Veterinaria", creditos: 3, prereqs: ["fisio_2"] },
    { id: "porcinos", nombre: "Producci√≥n y Sanidad de Porcinos", creditos: 3, prereqs: ["recursos_alim"] },
    { id: "pract_vet_3", nombre: "Pr√°ctica Veterinaria III", creditos: 2, prereqs: ["pract_vet_2"] },
    { id: "patologia", nombre: "Patolog√≠a Veterinaria", creditos: 4, prereqs: ["fisio_2"] },
    { id: "semiologia", nombre: "Semiolog√≠a Veterinaria", creditos: 3, prereqs: ["fisio_2"] },
    { id: "epidemiologia", nombre: "Epidemiolog√≠a Veterinaria", creditos: 3, prereqs: ["bioestad"] },
    { id: "act_comp_2", nombre: "Actividad Complementaria II", creditos: 1, prereqs: [] }
  ],
  "S√©ptimo Ciclo": [
    { id: "gestion", nombre: "Gesti√≥n y Administraci√≥n", creditos: 3, prereqs: ["economia"] },
    { id: "conservacion", nombre: "Medicina de la Conservaci√≥n", creditos: 4, prereqs: ["epidemiologia"] },
    { id: "fisiopato", nombre: "Fisiopatolog√≠a Animal", creditos: 4, prereqs: ["patologia"] },
    { id: "teriogeno", nombre: "Teriogenolog√≠a", creditos: 3, prereqs: ["patologia"] },
    { id: "anestesia", nombre: "Anestesiolog√≠a y T√©cnica Quir√∫rgica", creditos: 3, prereqs: ["farmaco"] },
    { id: "electiva_2", nombre: "Asignatura Electiva II", creditos: 2, prereqs: [] },
    { id: "act_comp_3", nombre: "Actividad Complementaria III", creditos: 1, prereqs: [] }
  ],
  "Octavo Ciclo": [
    { id: "toxico", nombre: "Toxicolog√≠a Veterinaria", creditos: 2, prereqs: ["farmaco"] },
    { id: "med_produccion", nombre: "Medicina de Animales de la Producci√≥n", creditos: 3, prereqs: ["fisiopato"] },
    { id: "metod_1", nombre: "Metodolog√≠a de la Investigaci√≥n I", creditos: 2, prereqs: ["epidemiologia", "fisiopato"] },
    { id: "patol_quir", nombre: "Patolog√≠a Quir√∫rgica", creditos: 3, prereqs: ["anestesia"] },
    { id: "aves", nombre: "Producci√≥n y Sanidad de Aves", creditos: 4, prereqs: ["fisiopato"] },
    { id: "hidrobio", nombre: "Producci√≥n y Sanidad de Hidrobiol√≥gicos", creditos: 3, prereqs: ["fisiopato"] },
    { id: "med_comp_1", nombre: "Medicina de Animales de Compa√±√≠a I", creditos: 3, prereqs: ["fisiopato"] },
    { id: "electiva_3", nombre: "Asignatura Electiva III", creditos: 2, prereqs: [] },
    { id: "act_comp_4", nombre: "Actividad Complementaria IV", creditos: 1, prereqs: [] }
  ],
  "Noveno Ciclo": [
    { id: "negocios", nombre: "Desarrollo de Negocios", creditos: 3, prereqs: ["gestion"] },
    { id: "salud_vet", nombre: "Salud Veterinaria", creditos: 3, prereqs: [] },
    { id: "metod_2", nombre: "Metodolog√≠a de la Investigaci√≥n II", creditos: 2, prereqs: ["metod_1"] },
    { id: "imagen", nombre: "Veterinary Imaging", creditos: 3, prereqs: ["fisiopato"] },
    { id: "inocuidad", nombre: "Industrializaci√≥n e Inocuidad de Alimentos de Origen Animal", creditos: 4, prereqs: ["toxico"] },
    { id: "med_comp_2", nombre: "Medicina de Animales de Compa√±√≠a II", creditos: 2, prereqs: ["med_comp_1"] },
    { id: "legislacion", nombre: "Legislaci√≥n Veterinaria", creditos: 1, prereqs: ["sociologia"] },
    { id: "electiva_4", nombre: "Asignatura Electiva IV", creditos: 2, prereqs: [] }
  ],
  "D√©cimo Ciclo": [
    { id: "investigacion", nombre: "Trabajo de Investigaci√≥n", creditos: 1, prereqs: [] },
    { id: "rotaciones", nombre: "Rotaciones en Medicina Veterinaria y Zootecnia", creditos: 20, prereqs: [] }
  ]
};
