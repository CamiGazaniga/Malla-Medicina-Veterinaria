<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Curricular Veterinaria</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --bg-pink: #fff0f5;
      --accent-pink: #f472b6;
    }
    body {
      background-color: var(--bg-pink);
    }
    .completed {
      text-decoration: line-through;
      opacity: 0.5;
    }
  </style>
</head>
<body class="p-4 font-sans">
  <h1 class="text-3xl font-bold text-center text-pink-600 mb-6">ğŸ¾ Malla Curricular - Medicina Veterinaria y Zootecnia ğŸ¾</h1>
  <div id="malla" class="space-y-6"></div>

  <script>
    const cursos = {
      "Primer Ciclo": [
        { id: "mate_bas", nombre: "MatemÃ¡ticas BÃ¡sicas", creditos: 4, prereqs: [] },
        { id: "quimica", nombre: "Elementos de QuÃ­mica", creditos: 4, prereqs: [] },
        { id: "com_red_1", nombre: "ComunicaciÃ³n y RedacciÃ³n I", creditos: 3, prereqs: [] },
        { id: "filosofia", nombre: "FilosofÃ­a y Ã‰tica", creditos: 3, prereqs: [] },
        { id: "biologia_1", nombre: "BiologÃ­a I", creditos: 5, prereqs: [] },
        { id: "desarrollo_pers", nombre: "Desarrollo Personal y AutonomÃ­a", creditos: 2, prereqs: [] },
        { id: "oportunidades_vet", nombre: "Oportunidades de Desarrollo Profesional en MVZ", creditos: 1, prereqs: [] },
        { id: "ingles_1", nombre: "InglÃ©s I", creditos: 2, prereqs: [] }
      ],
      "Segundo Ciclo": [
        { id: "fisica", nombre: "FÃ­sica BÃ¡sica", creditos: 4, prereqs: [] },
        { id: "genetica", nombre: "Fundamentos de GenÃ©tica para las Ciencias Veterinarias", creditos: 2, prereqs: ["biologia_1"] },
        { id: "c_sociales", nombre: "Ciencias Sociales en el Contexto Actual", creditos: 3, prereqs: [] },
        { id: "pract_vet_1", nombre: "PrÃ¡ctica Veterinaria I", creditos: 2, prereqs: [] },
        { id: "com_red_2", nombre: "ComunicaciÃ³n y RedacciÃ³n II", creditos: 3, prereqs: ["com_red_1"] },
        { id: "pens_cient", nombre: "Pensamiento CientÃ­fico e InvestigaciÃ³n", creditos: 2, prereqs: [] },
        { id: "cultura_ambiental", nombre: "Cultura Ambiental y Desarrollo Sostenible", creditos: 1, prereqs: [] },
        { id: "act_comp_1", nombre: "Actividad Complementaria I", creditos: 1, prereqs: [] },
        { id: "ingles_2", nombre: "InglÃ©s II", creditos: 2, prereqs: ["ingles_1"] }
      ],
      "Tercer Ciclo": [
      "Cuarto Ciclo": [
        { id: "bioestad", nombre: "BioestadÃ­stica", creditos: 2, prereqs: ["mate_bas"] },
        { id: "fisio_repro", nombre: "FisiologÃ­a de la ReproducciÃ³n", creditos: 3, prereqs: ["histo_vet"] },
        { id: "mejoramiento", nombre: "Mejoramiento GenÃ©tico", creditos: 3, prereqs: ["genetica"] },
        { id: "nutri_2", nombre: "NutriciÃ³n Animal II", creditos: 4, prereqs: ["nutri_1"] },
        { id: "pract_vet_2", nombre: "PrÃ¡ctica Veterinaria II", creditos: 2, prereqs: ["anato_vet"] },
        { id: "fisio_1", nombre: "FisiologÃ­a Animal I", creditos: 3, prereqs: ["anato_vet", "histo_vet"] },
        { id: "electiva_1", nombre: "Asignatura Electiva I", creditos: 1, prereqs: [] },
        { id: "ingles_4", nombre: "InglÃ©s IV", creditos: 2, prereqs: ["ingles_3"] }
      ],
      "Quinto Ciclo": [
        { id: "prod_bov", nombre: "ProducciÃ³n de Bovinos", creditos: 3, prereqs: ["pract_vet_2"] },
        { id: "farmaco", nombre: "FarmacologÃ­a Veterinaria", creditos: 3, prereqs: ["fisio_1"] },
        { id: "recursos_alim", nombre: "Recursos y Sistemas de AlimentaciÃ³n Animal", creditos: 2, prereqs: ["nutri_2"] },
        { id: "vida_silv", nombre: "IntroducciÃ³n a la Vida Silvestre", creditos: 2, prereqs: ["eco_vet"] },
        { id: "sociologia_vet", nombre: "SociologÃ­a Aplicada al Campo Veterinario", creditos: 1, prereqs: ["c_sociales", "pract_vet_2"] },
        { id: "eco_prod", nombre: "EconomÃ­a de la ProducciÃ³n", creditos: 3, prereqs: ["bioestad"] },
        { id: "fisio_2", nombre: "FisiologÃ­a Animal II", creditos: 3, prereqs: ["fisio_1"] },
        { id: "parasito", nombre: "ParasitologÃ­a Veterinaria", creditos: 3, prereqs: ["fisio_1"] }
      ],
      "Sexto Ciclo": [
        { id: "patoclin", nombre: "PatologÃ­a ClÃ­nica Veterinaria", creditos: 3, prereqs: ["fisio_2"] },
        { id: "prod_porc", nombre: "ProducciÃ³n y Sanidad de Porcinos", creditos: 3, prereqs: ["recursos_alim"] },
        { id: "pract_vet_3", nombre: "PrÃ¡ctica Veterinaria III", creditos: 2, prereqs: ["pract_vet_2"] },
        { id: "patologia", nombre: "PatologÃ­a Veterinaria", creditos: 4, prereqs: ["fisio_2"] },
        { id: "semiologia", nombre: "SemiologÃ­a Veterinaria", creditos: 3, prereqs: ["fisio_2"] },
        { id: "epidemio", nombre: "EpidemiologÃ­a Veterinaria", creditos: 3, prereqs: ["bioestad"] },
        { id: "act_comp_2", nombre: "Actividad Complementaria II", creditos: 1, prereqs: [] }
      ],
      "SÃ©ptimo Ciclo": [
        { id: "gestion", nombre: "GestiÃ³n y AdministraciÃ³n", creditos: 3, prereqs: ["eco_prod"] },
        { id: "med_conserv", nombre: "Medicina de la ConservaciÃ³n", creditos: 4, prereqs: ["epidemio"] },
        { id: "fisiopat", nombre: "FisiopatologÃ­a Animal", creditos: 4, prereqs: ["patologia"] },
        { id: "teriogeno", nombre: "TeriogenologÃ­a", creditos: 3, prereqs: ["patologia"] },
        { id: "anestesia", nombre: "AnestesiologÃ­a y TÃ©cnica QuirÃºrgica", creditos: 3, prereqs: ["farmaco"] },
        { id: "electiva_2", nombre: "Asignatura Electiva II", creditos: 2, prereqs: [] },
        { id: "act_comp_3", nombre: "Actividad Complementaria III", creditos: 1, prereqs: [] }
      ],
      "Octavo Ciclo": [
        { id: "toxico", nombre: "ToxicologÃ­a Veterinaria", creditos: 2, prereqs: ["farmaco"] },
        { id: "med_produccion", nombre: "Medicina de Animales de la ProducciÃ³n", creditos: 3, prereqs: ["fisiopat"] },
        { id: "metod_1", nombre: "MetodologÃ­a de la InvestigaciÃ³n I", creditos: 2, prereqs: ["epidemio", "fisiopat"] },
        { id: "pato_quir", nombre: "PatologÃ­a QuirÃºrgica", creditos: 3, prereqs: ["anestesia"] },
        { id: "prod_aves", nombre: "ProducciÃ³n y Sanidad de Aves", creditos: 4, prereqs: ["fisiopat"] },
        { id: "prod_hidro", nombre: "ProducciÃ³n y Sanidad de HidrobiolÃ³gicos", creditos: 3, prereqs: ["fisiopat"] },
        { id: "med_comp_1", nombre: "Medicina de Animales de CompaÃ±Ã­a I", creditos: 3, prereqs: ["fisiopat"] },
        { id: "electiva_3", nombre: "Asignatura Electiva III", creditos: 2, prereqs: [] },
        { id: "act_comp_4", nombre: "Actividad Complementaria IV", creditos: 1, prereqs: [] }
      ],
      "Noveno Ciclo": [
        { id: "negocios", nombre: "Desarrollo de Negocios", creditos: 3, prereqs: ["gestion"] },
        { id: "salud_vet", nombre: "Salud Veterinaria", creditos: 3, prereqs: [] },
        { id: "metod_2", nombre: "MetodologÃ­a de la InvestigaciÃ³n II", creditos: 2, prereqs: ["metod_1"] },
        { id: "imagen", nombre: "Veterinary Imaging", creditos: 3, prereqs: ["fisiopat"] },
        { id: "inocuidad", nombre: "IndustrializaciÃ³n e Inocuidad de Alimentos de Origen Animal", creditos: 4, prereqs: ["toxico"] },
        { id: "med_comp_2", nombre: "Medicina de Animales de CompaÃ±Ã­a II", creditos: 2, prereqs: ["med_comp_1"] },
        { id: "legislacion", nombre: "LegislaciÃ³n Veterinaria", creditos: 1, prereqs: ["sociologia_vet"] },
        { id: "electiva_4", nombre: "Asignatura Electiva IV", creditos: 2, prereqs: [] }
      ],
      "DÃ©cimo Ciclo": [
        { id: "investigacion", nombre: "Trabajo de InvestigaciÃ³n", creditos: 1, prereqs: [] },
        { id: "rotaciones", nombre: "Rotaciones en Medicina Veterinaria y Zootecnia", creditos: 20, prereqs: [] }
      ]

        { id: "micro_inmuno", nombre: "MicrobiologÃ­a e InmunologÃ­a Veterinaria", creditos: 4, prereqs: ["biologia_1"] },
        { id: "nutri_1", nombre: "NutriciÃ³n Animal I", creditos: 3, prereqs: ["biologia_1"] },
        { id: "eco_vet", nombre: "EcologÃ­a para las Ciencias Veterinarias", creditos: 2, prereqs: ["biologia_1"] },
        { id: "anato_vet", nombre: "AnatomÃ­a Veterinaria", creditos: 4, prereqs: ["biologia_1"] },
        { id: "histo_vet", nombre: "HistologÃ­a Veterinaria", creditos: 3, prereqs: ["biologia_1"] },
        { id: "ingles_3", nombre: "InglÃ©s III", creditos: 2, prereqs: ["ingles_2"] }
      ]
    };

    let aprobados = new Set(JSON.parse(localStorage.getItem("aprobados_vet") || "[]"));

    function guardarProgreso() {
      localStorage.setItem("aprobados_vet", JSON.stringify([...aprobados]));
    }

    function renderMalla() {
      const container = document.getElementById("malla");
      container.innerHTML = "";

      for (const ciclo in cursos) {
        const wrapper = document.createElement("div");
        wrapper.className = "bg-white rounded-xl shadow-lg p-4 border border-pink-300";

        const header = document.createElement("h2");
        header.className = "text-xl font-semibold text-pink-700 cursor-pointer hover:underline";
        header.textContent = ciclo;

        const lista = document.createElement("div");
        lista.className = "grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 hidden";

        cursos[ciclo].forEach((curso) => {
          const bloqueado = curso.prereqs.some(p => !aprobados.has(p));

          const div = document.createElement("div");
          div.className = `p-3 rounded border transition ${bloqueado ? 'bg-gray-200 text-gray-500' : 'bg-pink-100 hover:bg-pink-200'}`;

          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.className = "mr-2 accent-pink-500";
          checkbox.disabled = bloqueado;
          checkbox.checked = aprobados.has(curso.id);

          if (checkbox.checked) div.classList.add("completed");

          checkbox.addEventListener("change", () => {
            if (checkbox.checked) {
              aprobados.add(curso.id);
            } else {
              aprobados.delete(curso.id);
            }
            guardarProgreso();
            renderMalla();
          });

          div.appendChild(checkbox);
          div.append(`${curso.nombre} (${curso.creditos} crÃ©ditos)`);
          lista.appendChild(div);
        });

        header.addEventListener("click", () => {
          lista.classList.toggle("hidden");
        });

        wrapper.appendChild(header);
        wrapper.appendChild(lista);
        container.appendChild(wrapper);
      }
    }

    renderMalla();
  </script>
</body>
</html>
